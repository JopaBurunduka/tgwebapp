<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Telegram WebApp Test</title>
</head>
<body>
  <h2>Telegram WebApp Test</h2>
  <pre id="output">Загрузка...</pre>

  <script>
    const output = document.getElementById("output");

    if (window.Telegram === undefined || window.Telegram.WebApp === undefined) {
      output.textContent = "❌ Telegram WebApp API не доступен. Откройте через Telegram.";
    } else {
      const tg = window.Telegram.WebApp;
      const user = tg.initDataUnsafe?.user;

      if (!user) {
        output.textContent = "❌ Пользователь не найден. Возможно, Telegram не передал данные.";
      } else {
        output.textContent = `✅ Telegram WebApp API работает\n\nID: ${user.id}\nUsername: ${user.username || 'нет'}\nFirst name: ${user.first_name}`;
      }
    }
  </script>
</body>
</html>

